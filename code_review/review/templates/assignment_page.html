<!-- Template for showing a specific assignment's information -->
{% extends 'navbar.html' %}

  {% block main %}
<div id="assignmentView">
  <!-- This page can only be called if an assignment exists, obviously -->
  <!-- grabs the name of the current assignment -->
  <h1>{{ asmt.name }}</h1>
<div id="assignmentAdmin">
  {% if user.is_superuser %}
  <!-- Add stuff to allow superuser to edit assignment -->

  {% endif%}
  
  {% if user.is_superuser %}
  <h2>Settings</h2>
  {% endif %}
</div>
  <p><b>Submission Status: </b> Need to add submission status Check</p> 
  <p><b>Assignment due at: </b> {{ asmt.submission_close_date }}</p> 
  <p><b>Review opens at: </b> {{ asmt.review_open_date }}</p> 
  <p><b>Review closes at: </b> {{ asmt.review_close_date }}</p> 

  <!-- if the assignment is still open for submission this will be viewable -->
  {% if canSubmit %}
  <form action="submit/">
    <input type="submit" value="Submit Assignment">
  </form>
  {% else %}
  Submissions are closed now <br>
  {% endif %}

  <!-- shows the user their past submissions -->
  {% if submissions %}
    Submimissions 
    <tr>
        <th>Submission Time</th>
        <th>Submission Repository</th>
        <th>View Submission</th>
    </tr>
    {% for sub in submissions %}
    <tr>
        <td>{{ sub.submission_date }} </td>
        <td>{{ sub.submission_repository }}</td>
        <td>
            <form action="{% url 'submission' sub.submission_uuid %}">
                <input type="submit" value="View Submission">
            </form>
        </td>
    </tr>
    {% endfor %}
  {% endif %}

</div>
{% endblock %}
